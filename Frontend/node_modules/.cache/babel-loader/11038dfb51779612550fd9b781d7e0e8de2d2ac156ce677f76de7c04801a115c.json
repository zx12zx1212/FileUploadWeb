{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { provide, defineComponent, unref, inject, watch, shallowRef, getCurrentInstance } from 'vue';\nimport CacheEntity from './Cache';\nimport { arrayType, booleanType, objectType, someType, stringType, withInstall } from '../type';\nexport const ATTR_TOKEN = 'data-token-hash';\nexport const ATTR_MARK = 'data-css-hash';\nexport const ATTR_CACHE_PATH = 'data-cache-path';\n// Mark css-in-js instance in style element\nexport const CSS_IN_JS_INSTANCE = '__cssinjs_instance__';\nexport function createCache() {\n  const cssinjsInstanceId = Math.random().toString(12).slice(2);\n  // Tricky SSR: Move all inline style to the head.\n  // PS: We do not recommend tricky mode.\n  if (typeof document !== 'undefined' && document.head && document.body) {\n    const styles = document.body.querySelectorAll(`style[${ATTR_MARK}]`) || [];\n    const {\n      firstChild\n    } = document.head;\n    Array.from(styles).forEach(style => {\n      style[CSS_IN_JS_INSTANCE] = style[CSS_IN_JS_INSTANCE] || cssinjsInstanceId;\n      // Not force move if no head\n      // Not force move if no head\n      if (style[CSS_IN_JS_INSTANCE] === cssinjsInstanceId) {\n        document.head.insertBefore(style, firstChild);\n      }\n    });\n    // Deduplicate of moved styles\n    const styleHash = {};\n    Array.from(document.querySelectorAll(`style[${ATTR_MARK}]`)).forEach(style => {\n      var _a;\n      const hash = style.getAttribute(ATTR_MARK);\n      if (styleHash[hash]) {\n        if (style[CSS_IN_JS_INSTANCE] === cssinjsInstanceId) {\n          (_a = style.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(style);\n        }\n      } else {\n        styleHash[hash] = true;\n      }\n    });\n  }\n  return new CacheEntity(cssinjsInstanceId);\n}\nconst StyleContextKey = Symbol('StyleContextKey');\n// fix: https://github.com/vueComponent/ant-design-vue/issues/7023\nconst getCache = () => {\n  var _a, _b, _c;\n  const instance = getCurrentInstance();\n  let cache;\n  if (instance && instance.appContext) {\n    const globalCache = (_c = (_b = (_a = instance.appContext) === null || _a === void 0 ? void 0 : _a.config) === null || _b === void 0 ? void 0 : _b.globalProperties) === null || _c === void 0 ? void 0 : _c.__ANTDV_CSSINJS_CACHE__;\n    if (globalCache) {\n      cache = globalCache;\n    } else {\n      cache = createCache();\n      if (instance.appContext.config.globalProperties) {\n        instance.appContext.config.globalProperties.__ANTDV_CSSINJS_CACHE__ = cache;\n      }\n    }\n  } else {\n    cache = createCache();\n  }\n  return cache;\n};\nconst defaultStyleContext = {\n  cache: createCache(),\n  defaultCache: true,\n  hashPriority: 'low'\n};\n// fix: https://github.com/vueComponent/ant-design-vue/issues/6912\nexport const useStyleInject = () => {\n  const cache = getCache();\n  return inject(StyleContextKey, shallowRef(_extends(_extends({}, defaultStyleContext), {\n    cache\n  })));\n};\nexport const useStyleProvider = props => {\n  const parentContext = useStyleInject();\n  const context = shallowRef(_extends(_extends({}, defaultStyleContext), {\n    cache: createCache()\n  }));\n  watch([() => unref(props), parentContext], () => {\n    const mergedContext = _extends({}, parentContext.value);\n    const propsValue = unref(props);\n    Object.keys(propsValue).forEach(key => {\n      const value = propsValue[key];\n      if (propsValue[key] !== undefined) {\n        mergedContext[key] = value;\n      }\n    });\n    const {\n      cache\n    } = propsValue;\n    mergedContext.cache = mergedContext.cache || createCache();\n    mergedContext.defaultCache = !cache && parentContext.value.defaultCache;\n    context.value = mergedContext;\n  }, {\n    immediate: true\n  });\n  provide(StyleContextKey, context);\n  return context;\n};\nexport const styleProviderProps = () => ({\n  autoClear: booleanType(),\n  /** @private Test only. Not work in production. */\n  mock: stringType(),\n  /**\n   * Only set when you need ssr to extract style on you own.\n   * If not provided, it will auto create <style /> on the end of Provider in server side.\n   */\n  cache: objectType(),\n  /** Tell children that this context is default generated context */\n  defaultCache: booleanType(),\n  /** Use `:where` selector to reduce hashId css selector priority */\n  hashPriority: stringType(),\n  /** Tell cssinjs where to inject style in */\n  container: someType(),\n  /** Component wil render inline  `<style />` for fallback in SSR. Not recommend. */\n  ssrInline: booleanType(),\n  /** Transform css before inject in document. Please note that `transformers` do not support dynamic update */\n  transformers: arrayType(),\n  /**\n   * Linters to lint css before inject in document.\n   * Styles will be linted after transforming.\n   * Please note that `linters` do not support dynamic update.\n   */\n  linters: arrayType()\n});\nexport const StyleProvider = withInstall(defineComponent({\n  name: 'AStyleProvider',\n  inheritAttrs: false,\n  props: styleProviderProps(),\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    useStyleProvider(props);\n    return () => {\n      var _a;\n      return (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots);\n    };\n  }\n}));\nexport default {\n  useStyleInject,\n  useStyleProvider,\n  StyleProvider\n};","map":{"version":3,"names":["_extends","provide","defineComponent","unref","inject","watch","shallowRef","getCurrentInstance","CacheEntity","arrayType","booleanType","objectType","someType","stringType","withInstall","ATTR_TOKEN","ATTR_MARK","ATTR_CACHE_PATH","CSS_IN_JS_INSTANCE","createCache","cssinjsInstanceId","Math","random","toString","slice","document","head","body","styles","querySelectorAll","firstChild","Array","from","forEach","style","insertBefore","styleHash","_a","hash","getAttribute","parentNode","removeChild","StyleContextKey","Symbol","getCache","_b","_c","instance","cache","appContext","globalCache","config","globalProperties","__ANTDV_CSSINJS_CACHE__","defaultStyleContext","defaultCache","hashPriority","useStyleInject","useStyleProvider","props","parentContext","context","mergedContext","value","propsValue","Object","keys","key","undefined","immediate","styleProviderProps","autoClear","mock","container","ssrInline","transformers","linters","StyleProvider","name","inheritAttrs","setup","_ref","slots","default","call"],"sources":["/Users/lyonxie/Desktop/Frontend/node_modules/ant-design-vue/es/_util/cssinjs/StyleContext.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { provide, defineComponent, unref, inject, watch, shallowRef, getCurrentInstance } from 'vue';\nimport CacheEntity from './Cache';\nimport { arrayType, booleanType, objectType, someType, stringType, withInstall } from '../type';\nexport const ATTR_TOKEN = 'data-token-hash';\nexport const ATTR_MARK = 'data-css-hash';\nexport const ATTR_CACHE_PATH = 'data-cache-path';\n// Mark css-in-js instance in style element\nexport const CSS_IN_JS_INSTANCE = '__cssinjs_instance__';\nexport function createCache() {\n  const cssinjsInstanceId = Math.random().toString(12).slice(2);\n  // Tricky SSR: Move all inline style to the head.\n  // PS: We do not recommend tricky mode.\n  if (typeof document !== 'undefined' && document.head && document.body) {\n    const styles = document.body.querySelectorAll(`style[${ATTR_MARK}]`) || [];\n    const {\n      firstChild\n    } = document.head;\n    Array.from(styles).forEach(style => {\n      style[CSS_IN_JS_INSTANCE] = style[CSS_IN_JS_INSTANCE] || cssinjsInstanceId;\n      // Not force move if no head\n      // Not force move if no head\n      if (style[CSS_IN_JS_INSTANCE] === cssinjsInstanceId) {\n        document.head.insertBefore(style, firstChild);\n      }\n    });\n    // Deduplicate of moved styles\n    const styleHash = {};\n    Array.from(document.querySelectorAll(`style[${ATTR_MARK}]`)).forEach(style => {\n      var _a;\n      const hash = style.getAttribute(ATTR_MARK);\n      if (styleHash[hash]) {\n        if (style[CSS_IN_JS_INSTANCE] === cssinjsInstanceId) {\n          (_a = style.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(style);\n        }\n      } else {\n        styleHash[hash] = true;\n      }\n    });\n  }\n  return new CacheEntity(cssinjsInstanceId);\n}\nconst StyleContextKey = Symbol('StyleContextKey');\n// fix: https://github.com/vueComponent/ant-design-vue/issues/7023\nconst getCache = () => {\n  var _a, _b, _c;\n  const instance = getCurrentInstance();\n  let cache;\n  if (instance && instance.appContext) {\n    const globalCache = (_c = (_b = (_a = instance.appContext) === null || _a === void 0 ? void 0 : _a.config) === null || _b === void 0 ? void 0 : _b.globalProperties) === null || _c === void 0 ? void 0 : _c.__ANTDV_CSSINJS_CACHE__;\n    if (globalCache) {\n      cache = globalCache;\n    } else {\n      cache = createCache();\n      if (instance.appContext.config.globalProperties) {\n        instance.appContext.config.globalProperties.__ANTDV_CSSINJS_CACHE__ = cache;\n      }\n    }\n  } else {\n    cache = createCache();\n  }\n  return cache;\n};\nconst defaultStyleContext = {\n  cache: createCache(),\n  defaultCache: true,\n  hashPriority: 'low'\n};\n// fix: https://github.com/vueComponent/ant-design-vue/issues/6912\nexport const useStyleInject = () => {\n  const cache = getCache();\n  return inject(StyleContextKey, shallowRef(_extends(_extends({}, defaultStyleContext), {\n    cache\n  })));\n};\nexport const useStyleProvider = props => {\n  const parentContext = useStyleInject();\n  const context = shallowRef(_extends(_extends({}, defaultStyleContext), {\n    cache: createCache()\n  }));\n  watch([() => unref(props), parentContext], () => {\n    const mergedContext = _extends({}, parentContext.value);\n    const propsValue = unref(props);\n    Object.keys(propsValue).forEach(key => {\n      const value = propsValue[key];\n      if (propsValue[key] !== undefined) {\n        mergedContext[key] = value;\n      }\n    });\n    const {\n      cache\n    } = propsValue;\n    mergedContext.cache = mergedContext.cache || createCache();\n    mergedContext.defaultCache = !cache && parentContext.value.defaultCache;\n    context.value = mergedContext;\n  }, {\n    immediate: true\n  });\n  provide(StyleContextKey, context);\n  return context;\n};\nexport const styleProviderProps = () => ({\n  autoClear: booleanType(),\n  /** @private Test only. Not work in production. */\n  mock: stringType(),\n  /**\n   * Only set when you need ssr to extract style on you own.\n   * If not provided, it will auto create <style /> on the end of Provider in server side.\n   */\n  cache: objectType(),\n  /** Tell children that this context is default generated context */\n  defaultCache: booleanType(),\n  /** Use `:where` selector to reduce hashId css selector priority */\n  hashPriority: stringType(),\n  /** Tell cssinjs where to inject style in */\n  container: someType(),\n  /** Component wil render inline  `<style />` for fallback in SSR. Not recommend. */\n  ssrInline: booleanType(),\n  /** Transform css before inject in document. Please note that `transformers` do not support dynamic update */\n  transformers: arrayType(),\n  /**\n   * Linters to lint css before inject in document.\n   * Styles will be linted after transforming.\n   * Please note that `linters` do not support dynamic update.\n   */\n  linters: arrayType()\n});\nexport const StyleProvider = withInstall(defineComponent({\n  name: 'AStyleProvider',\n  inheritAttrs: false,\n  props: styleProviderProps(),\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    useStyleProvider(props);\n    return () => {\n      var _a;\n      return (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots);\n    };\n  }\n}));\nexport default {\n  useStyleInject,\n  useStyleProvider,\n  StyleProvider\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}