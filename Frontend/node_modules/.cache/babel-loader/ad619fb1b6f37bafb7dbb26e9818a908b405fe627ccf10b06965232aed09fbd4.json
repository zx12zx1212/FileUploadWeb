{"ast":null,"code":"import { createVNode as _createVNode } from \"vue\";\nimport KeyCode from '../_util/KeyCode';\nimport PropTypes from '../_util/vue-types';\nimport TextArea from '../input/TextArea';\nimport EnterOutlined from '@ant-design/icons-vue/EnterOutlined';\nimport { defineComponent, ref, reactive, watch, onMounted } from 'vue';\nvar Editable = defineComponent({\n  name: 'Editable',\n  props: {\n    prefixCls: PropTypes.string,\n    value: PropTypes.string,\n    maxlength: PropTypes.number,\n    autoSize: PropTypes.oneOfType([PropTypes.looseBool, PropTypes.object]),\n    onSave: PropTypes.func,\n    onCancel: PropTypes.func,\n    onEnd: PropTypes.func,\n    onChange: PropTypes.func,\n    originContent: PropTypes.string\n  },\n  emits: ['save', 'cancel', 'end', 'change'],\n  setup: function setup(props, _ref) {\n    var emit = _ref.emit;\n    var state = reactive({\n      current: props.value || '',\n      lastKeyCode: undefined,\n      inComposition: false,\n      cancelFlag: false\n    });\n    watch(function () {\n      return props.value;\n    }, function (current) {\n      state.current = current;\n    });\n    var textArea = ref();\n    onMounted(function () {\n      var _a;\n      if (textArea.value) {\n        var resizableTextArea = (_a = textArea.value) === null || _a === void 0 ? void 0 : _a.resizableTextArea;\n        var innerTextArea = resizableTextArea === null || resizableTextArea === void 0 ? void 0 : resizableTextArea.textArea;\n        innerTextArea.focus();\n        var length = innerTextArea.value.length;\n        innerTextArea.setSelectionRange(length, length);\n      }\n    });\n    function saveTextAreaRef(node) {\n      textArea.value = node;\n    }\n    function onChange(_ref2) {\n      var value = _ref2.target.value;\n      state.current = value.replace(/[\\r\\n]/g, '');\n      emit('change', state.current);\n    }\n    function onCompositionStart() {\n      state.inComposition = true;\n    }\n    function onCompositionEnd() {\n      state.inComposition = false;\n    }\n    function onKeyDown(e) {\n      var keyCode = e.keyCode;\n      if (keyCode === KeyCode.ENTER) {\n        e.preventDefault();\n      } // We don't record keyCode when IME is using\n\n      if (state.inComposition) return;\n      state.lastKeyCode = keyCode;\n    }\n    function onKeyUp(e) {\n      var keyCode = e.keyCode,\n        ctrlKey = e.ctrlKey,\n        altKey = e.altKey,\n        metaKey = e.metaKey,\n        shiftKey = e.shiftKey; // Check if it's a real key\n\n      if (state.lastKeyCode === keyCode && !state.inComposition && !ctrlKey && !altKey && !metaKey && !shiftKey) {\n        if (keyCode === KeyCode.ENTER) {\n          confirmChange();\n          emit('end');\n        } else if (keyCode === KeyCode.ESC) {\n          state.current = props.originContent;\n          emit('cancel');\n        }\n      }\n    }\n    function onBlur() {\n      confirmChange();\n      emit('end');\n    }\n    function confirmChange() {\n      emit('save', state.current.trim());\n    }\n    return function () {\n      return _createVNode(\"div\", {\n        \"class\": \"\".concat(props.prefixCls, \" \").concat(props.prefixCls, \"-edit-content\")\n      }, [_createVNode(TextArea, {\n        \"ref\": saveTextAreaRef,\n        \"maxlength\": props.maxlength,\n        \"value\": state.current,\n        \"onChange\": onChange,\n        \"onKeydown\": onKeyDown,\n        \"onKeyup\": onKeyUp,\n        \"onCompositionstart\": onCompositionStart,\n        \"onCompositionend\": onCompositionEnd,\n        \"onBlur\": onBlur,\n        \"autoSize\": props.autoSize === undefined || props.autoSize\n      }, null), _createVNode(EnterOutlined, {\n        \"class\": \"\".concat(props.prefixCls, \"-edit-content-confirm\")\n      }, null)]);\n    };\n  }\n});\nexport default Editable;","map":{"version":3,"names":["createVNode","_createVNode","KeyCode","PropTypes","TextArea","EnterOutlined","defineComponent","ref","reactive","watch","onMounted","Editable","name","props","prefixCls","string","value","maxlength","number","autoSize","oneOfType","looseBool","object","onSave","func","onCancel","onEnd","onChange","originContent","emits","setup","_ref","emit","state","current","lastKeyCode","undefined","inComposition","cancelFlag","textArea","_a","resizableTextArea","innerTextArea","focus","length","setSelectionRange","saveTextAreaRef","node","_ref2","target","replace","onCompositionStart","onCompositionEnd","onKeyDown","e","keyCode","ENTER","preventDefault","onKeyUp","ctrlKey","altKey","metaKey","shiftKey","confirmChange","ESC","onBlur","trim","concat"],"sources":["/Users/lyonxie/Desktop/Frontend/node_modules/ant-design-vue/es/typography/Editable.js"],"sourcesContent":["import { createVNode as _createVNode } from \"vue\";\nimport KeyCode from '../_util/KeyCode';\nimport PropTypes from '../_util/vue-types';\nimport TextArea from '../input/TextArea';\nimport EnterOutlined from '@ant-design/icons-vue/EnterOutlined';\nimport { defineComponent, ref, reactive, watch, onMounted } from 'vue';\nvar Editable = defineComponent({\n  name: 'Editable',\n  props: {\n    prefixCls: PropTypes.string,\n    value: PropTypes.string,\n    maxlength: PropTypes.number,\n    autoSize: PropTypes.oneOfType([PropTypes.looseBool, PropTypes.object]),\n    onSave: PropTypes.func,\n    onCancel: PropTypes.func,\n    onEnd: PropTypes.func,\n    onChange: PropTypes.func,\n    originContent: PropTypes.string\n  },\n  emits: ['save', 'cancel', 'end', 'change'],\n  setup: function setup(props, _ref) {\n    var emit = _ref.emit;\n    var state = reactive({\n      current: props.value || '',\n      lastKeyCode: undefined,\n      inComposition: false,\n      cancelFlag: false\n    });\n    watch(function () {\n      return props.value;\n    }, function (current) {\n      state.current = current;\n    });\n    var textArea = ref();\n    onMounted(function () {\n      var _a;\n\n      if (textArea.value) {\n        var resizableTextArea = (_a = textArea.value) === null || _a === void 0 ? void 0 : _a.resizableTextArea;\n        var innerTextArea = resizableTextArea === null || resizableTextArea === void 0 ? void 0 : resizableTextArea.textArea;\n        innerTextArea.focus();\n        var length = innerTextArea.value.length;\n        innerTextArea.setSelectionRange(length, length);\n      }\n    });\n\n    function saveTextAreaRef(node) {\n      textArea.value = node;\n    }\n\n    function onChange(_ref2) {\n      var value = _ref2.target.value;\n      state.current = value.replace(/[\\r\\n]/g, '');\n      emit('change', state.current);\n    }\n\n    function onCompositionStart() {\n      state.inComposition = true;\n    }\n\n    function onCompositionEnd() {\n      state.inComposition = false;\n    }\n\n    function onKeyDown(e) {\n      var keyCode = e.keyCode;\n\n      if (keyCode === KeyCode.ENTER) {\n        e.preventDefault();\n      } // We don't record keyCode when IME is using\n\n\n      if (state.inComposition) return;\n      state.lastKeyCode = keyCode;\n    }\n\n    function onKeyUp(e) {\n      var keyCode = e.keyCode,\n          ctrlKey = e.ctrlKey,\n          altKey = e.altKey,\n          metaKey = e.metaKey,\n          shiftKey = e.shiftKey; // Check if it's a real key\n\n      if (state.lastKeyCode === keyCode && !state.inComposition && !ctrlKey && !altKey && !metaKey && !shiftKey) {\n        if (keyCode === KeyCode.ENTER) {\n          confirmChange();\n          emit('end');\n        } else if (keyCode === KeyCode.ESC) {\n          state.current = props.originContent;\n          emit('cancel');\n        }\n      }\n    }\n\n    function onBlur() {\n      confirmChange();\n      emit('end');\n    }\n\n    function confirmChange() {\n      emit('save', state.current.trim());\n    }\n\n    return function () {\n      return _createVNode(\"div\", {\n        \"class\": \"\".concat(props.prefixCls, \" \").concat(props.prefixCls, \"-edit-content\")\n      }, [_createVNode(TextArea, {\n        \"ref\": saveTextAreaRef,\n        \"maxlength\": props.maxlength,\n        \"value\": state.current,\n        \"onChange\": onChange,\n        \"onKeydown\": onKeyDown,\n        \"onKeyup\": onKeyUp,\n        \"onCompositionstart\": onCompositionStart,\n        \"onCompositionend\": onCompositionEnd,\n        \"onBlur\": onBlur,\n        \"autoSize\": props.autoSize === undefined || props.autoSize\n      }, null), _createVNode(EnterOutlined, {\n        \"class\": \"\".concat(props.prefixCls, \"-edit-content-confirm\")\n      }, null)]);\n    };\n  }\n});\nexport default Editable;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}