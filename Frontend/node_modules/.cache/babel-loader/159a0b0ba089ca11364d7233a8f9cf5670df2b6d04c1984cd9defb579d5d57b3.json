{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { useInjectFormItemPrefix } from './context';\nimport { defineComponent, onBeforeUnmount, ref, watch } from 'vue';\nimport classNames from '../_util/classNames';\nimport Transition, { getTransitionProps } from '../_util/transition';\nimport useConfigInject from '../_util/hooks/useConfigInject';\nexport default defineComponent({\n  name: 'ErrorList',\n  props: ['errors', 'help', 'onDomErrorVisibleChange'],\n  setup: function setup(props) {\n    var _useConfigInject = useConfigInject('', props),\n      rootPrefixCls = _useConfigInject.prefixCls;\n    var _useInjectFormItemPre = useInjectFormItemPrefix(),\n      prefixCls = _useInjectFormItemPre.prefixCls,\n      status = _useInjectFormItemPre.status;\n    var visible = ref(!!(props.errors && props.errors.length));\n    var innerStatus = ref(status.value);\n    var timeout = ref();\n    var cacheErrors = ref(_toConsumableArray(props.errors));\n    watch([function () {\n      return _toConsumableArray(props.errors);\n    }, function () {\n      return props.help;\n    }], function (newValues) {\n      window.clearTimeout(timeout.value);\n      if (props.help) {\n        visible.value = !!(props.errors && props.errors.length);\n        if (visible.value) {\n          cacheErrors.value = newValues[0];\n        }\n      } else {\n        timeout.value = window.setTimeout(function () {\n          visible.value = !!(props.errors && props.errors.length);\n          if (visible.value) {\n            cacheErrors.value = newValues[0];\n          }\n        });\n      }\n    });\n    onBeforeUnmount(function () {\n      window.clearTimeout(timeout.value);\n    }); // Memo status in same visible\n\n    watch([visible, status], function () {\n      if (visible.value && status.value) {\n        innerStatus.value = status.value;\n      }\n    });\n    watch(visible, function () {\n      var _a;\n      if (visible.value) {\n        (_a = props.onDomErrorVisibleChange) === null || _a === void 0 ? void 0 : _a.call(props, true);\n      }\n    }, {\n      immediate: true,\n      flush: 'post'\n    });\n    return function () {\n      var _a;\n      var baseClassName = \"\".concat(prefixCls.value, \"-item-explain\");\n      var transitionProps = getTransitionProps(\"\".concat(rootPrefixCls.value, \"-show-help\"), {\n        onAfterLeave: function onAfterLeave() {\n          var _a;\n          (_a = props.onDomErrorVisibleChange) === null || _a === void 0 ? void 0 : _a.call(props, false);\n        }\n      });\n      return _createVNode(Transition, transitionProps, {\n        default: function _default() {\n          return [visible.value ? _createVNode(\"div\", {\n            \"class\": classNames(baseClassName, _defineProperty({}, \"\".concat(baseClassName, \"-\").concat(innerStatus.value), innerStatus.value)),\n            \"key\": \"help\"\n          }, [(_a = cacheErrors.value) === null || _a === void 0 ? void 0 : _a.map(function (error, index) {\n            return _createVNode(\"div\", {\n              \"key\": index,\n              \"role\": \"alert\"\n            }, [error]);\n          })]) : null];\n        }\n      });\n    };\n  }\n});","map":{"version":3,"names":["_defineProperty","_toConsumableArray","createVNode","_createVNode","useInjectFormItemPrefix","defineComponent","onBeforeUnmount","ref","watch","classNames","Transition","getTransitionProps","useConfigInject","name","props","setup","_useConfigInject","rootPrefixCls","prefixCls","_useInjectFormItemPre","status","visible","errors","length","innerStatus","value","timeout","cacheErrors","help","newValues","window","clearTimeout","setTimeout","_a","onDomErrorVisibleChange","call","immediate","flush","baseClassName","concat","transitionProps","onAfterLeave","default","_default","map","error","index"],"sources":["/Users/lyonxie/Desktop/Frontend/node_modules/ant-design-vue/es/form/ErrorList.js"],"sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { useInjectFormItemPrefix } from './context';\nimport { defineComponent, onBeforeUnmount, ref, watch } from 'vue';\nimport classNames from '../_util/classNames';\nimport Transition, { getTransitionProps } from '../_util/transition';\nimport useConfigInject from '../_util/hooks/useConfigInject';\nexport default defineComponent({\n  name: 'ErrorList',\n  props: ['errors', 'help', 'onDomErrorVisibleChange'],\n  setup: function setup(props) {\n    var _useConfigInject = useConfigInject('', props),\n        rootPrefixCls = _useConfigInject.prefixCls;\n\n    var _useInjectFormItemPre = useInjectFormItemPrefix(),\n        prefixCls = _useInjectFormItemPre.prefixCls,\n        status = _useInjectFormItemPre.status;\n\n    var visible = ref(!!(props.errors && props.errors.length));\n    var innerStatus = ref(status.value);\n    var timeout = ref();\n    var cacheErrors = ref(_toConsumableArray(props.errors));\n    watch([function () {\n      return _toConsumableArray(props.errors);\n    }, function () {\n      return props.help;\n    }], function (newValues) {\n      window.clearTimeout(timeout.value);\n\n      if (props.help) {\n        visible.value = !!(props.errors && props.errors.length);\n\n        if (visible.value) {\n          cacheErrors.value = newValues[0];\n        }\n      } else {\n        timeout.value = window.setTimeout(function () {\n          visible.value = !!(props.errors && props.errors.length);\n\n          if (visible.value) {\n            cacheErrors.value = newValues[0];\n          }\n        });\n      }\n    });\n    onBeforeUnmount(function () {\n      window.clearTimeout(timeout.value);\n    }); // Memo status in same visible\n\n    watch([visible, status], function () {\n      if (visible.value && status.value) {\n        innerStatus.value = status.value;\n      }\n    });\n    watch(visible, function () {\n      var _a;\n\n      if (visible.value) {\n        (_a = props.onDomErrorVisibleChange) === null || _a === void 0 ? void 0 : _a.call(props, true);\n      }\n    }, {\n      immediate: true,\n      flush: 'post'\n    });\n    return function () {\n      var _a;\n\n      var baseClassName = \"\".concat(prefixCls.value, \"-item-explain\");\n      var transitionProps = getTransitionProps(\"\".concat(rootPrefixCls.value, \"-show-help\"), {\n        onAfterLeave: function onAfterLeave() {\n          var _a;\n\n          (_a = props.onDomErrorVisibleChange) === null || _a === void 0 ? void 0 : _a.call(props, false);\n        }\n      });\n      return _createVNode(Transition, transitionProps, {\n        default: function _default() {\n          return [visible.value ? _createVNode(\"div\", {\n            \"class\": classNames(baseClassName, _defineProperty({}, \"\".concat(baseClassName, \"-\").concat(innerStatus.value), innerStatus.value)),\n            \"key\": \"help\"\n          }, [(_a = cacheErrors.value) === null || _a === void 0 ? void 0 : _a.map(function (error, index) {\n            return _createVNode(\"div\", {\n              \"key\": index,\n              \"role\": \"alert\"\n            }, [error]);\n          })]) : null];\n        }\n      });\n    };\n  }\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}