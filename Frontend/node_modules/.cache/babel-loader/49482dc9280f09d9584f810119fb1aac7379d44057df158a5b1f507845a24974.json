{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createTheme, useCacheToken, useStyleRegister } from '../_util/cssinjs';\nimport version from '../version';\nimport { PresetColors } from './interface';\nimport defaultDerivative from './themes/default';\nimport defaultSeedToken from './themes/seed';\nimport formatToken from './util/alias';\nimport genComponentStyleHook from './util/genComponentStyleHook';\nimport statisticToken, { merge as mergeToken, statistic } from './util/statistic';\nimport { objectType } from '../_util/type';\nimport { triggerRef, unref, defineComponent, provide, computed, inject, watch, shallowRef } from 'vue';\nconst defaultTheme = createTheme(defaultDerivative);\nexport {\n// colors\nPresetColors,\n// Statistic\nstatistic, statisticToken, mergeToken,\n// hooks\nuseStyleRegister, genComponentStyleHook };\n// ================================ Context =================================\n// To ensure snapshot stable. We disable hashed in test env.\nexport const defaultConfig = {\n  token: defaultSeedToken,\n  hashed: true\n};\n//defaultConfig\nconst DesignTokenContextKey = Symbol('DesignTokenContext');\nexport const globalDesignTokenApi = shallowRef();\nexport const useDesignTokenProvider = value => {\n  provide(DesignTokenContextKey, value);\n  watch(value, () => {\n    globalDesignTokenApi.value = unref(value);\n    triggerRef(globalDesignTokenApi);\n  }, {\n    immediate: true,\n    deep: true\n  });\n};\nexport const useDesignTokenInject = () => {\n  return inject(DesignTokenContextKey, computed(() => globalDesignTokenApi.value || defaultConfig));\n};\nexport const DesignTokenProvider = defineComponent({\n  props: {\n    value: objectType()\n  },\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    useDesignTokenProvider(computed(() => props.value));\n    return () => {\n      var _a;\n      return (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots);\n    };\n  }\n});\n// ================================== Hook ==================================\nexport function useToken() {\n  const designTokenContext = inject(DesignTokenContextKey, computed(() => globalDesignTokenApi.value || defaultConfig));\n  const salt = computed(() => `${version}-${designTokenContext.value.hashed || ''}`);\n  const mergedTheme = computed(() => designTokenContext.value.theme || defaultTheme);\n  const cacheToken = useCacheToken(mergedTheme, computed(() => [defaultSeedToken, designTokenContext.value.token]), computed(() => ({\n    salt: salt.value,\n    override: _extends({\n      override: designTokenContext.value.token\n    }, designTokenContext.value.components),\n    formatToken\n  })));\n  return [mergedTheme, computed(() => cacheToken.value[0]), computed(() => designTokenContext.value.hashed ? cacheToken.value[1] : '')];\n}","map":{"version":3,"names":["_extends","createTheme","useCacheToken","useStyleRegister","version","PresetColors","defaultDerivative","defaultSeedToken","formatToken","genComponentStyleHook","statisticToken","merge","mergeToken","statistic","objectType","triggerRef","unref","defineComponent","provide","computed","inject","watch","shallowRef","defaultTheme","defaultConfig","token","hashed","DesignTokenContextKey","Symbol","globalDesignTokenApi","useDesignTokenProvider","value","immediate","deep","useDesignTokenInject","DesignTokenProvider","props","setup","_ref","slots","_a","default","call","useToken","designTokenContext","salt","mergedTheme","theme","cacheToken","override","components"],"sources":["/Users/lyonxie/Desktop/Frontend/node_modules/ant-design-vue/es/theme/internal.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createTheme, useCacheToken, useStyleRegister } from '../_util/cssinjs';\nimport version from '../version';\nimport { PresetColors } from './interface';\nimport defaultDerivative from './themes/default';\nimport defaultSeedToken from './themes/seed';\nimport formatToken from './util/alias';\nimport genComponentStyleHook from './util/genComponentStyleHook';\nimport statisticToken, { merge as mergeToken, statistic } from './util/statistic';\nimport { objectType } from '../_util/type';\nimport { triggerRef, unref, defineComponent, provide, computed, inject, watch, shallowRef } from 'vue';\nconst defaultTheme = createTheme(defaultDerivative);\nexport {\n// colors\nPresetColors,\n// Statistic\nstatistic, statisticToken, mergeToken,\n// hooks\nuseStyleRegister, genComponentStyleHook };\n// ================================ Context =================================\n// To ensure snapshot stable. We disable hashed in test env.\nexport const defaultConfig = {\n  token: defaultSeedToken,\n  hashed: true\n};\n//defaultConfig\nconst DesignTokenContextKey = Symbol('DesignTokenContext');\nexport const globalDesignTokenApi = shallowRef();\nexport const useDesignTokenProvider = value => {\n  provide(DesignTokenContextKey, value);\n  watch(value, () => {\n    globalDesignTokenApi.value = unref(value);\n    triggerRef(globalDesignTokenApi);\n  }, {\n    immediate: true,\n    deep: true\n  });\n};\nexport const useDesignTokenInject = () => {\n  return inject(DesignTokenContextKey, computed(() => globalDesignTokenApi.value || defaultConfig));\n};\nexport const DesignTokenProvider = defineComponent({\n  props: {\n    value: objectType()\n  },\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    useDesignTokenProvider(computed(() => props.value));\n    return () => {\n      var _a;\n      return (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots);\n    };\n  }\n});\n// ================================== Hook ==================================\nexport function useToken() {\n  const designTokenContext = inject(DesignTokenContextKey, computed(() => globalDesignTokenApi.value || defaultConfig));\n  const salt = computed(() => `${version}-${designTokenContext.value.hashed || ''}`);\n  const mergedTheme = computed(() => designTokenContext.value.theme || defaultTheme);\n  const cacheToken = useCacheToken(mergedTheme, computed(() => [defaultSeedToken, designTokenContext.value.token]), computed(() => ({\n    salt: salt.value,\n    override: _extends({\n      override: designTokenContext.value.token\n    }, designTokenContext.value.components),\n    formatToken\n  })));\n  return [mergedTheme, computed(() => cacheToken.value[0]), computed(() => designTokenContext.value.hashed ? cacheToken.value[1] : '')];\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}