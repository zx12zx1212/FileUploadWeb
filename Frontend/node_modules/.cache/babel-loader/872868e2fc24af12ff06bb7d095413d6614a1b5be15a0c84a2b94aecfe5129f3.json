{"ast":null,"code":"const updateStorage = (strategy, store) => {\n  const storage = strategy.storage || sessionStorage;\n  const storeKey = strategy.key || store.$id;\n  if (strategy.paths) {\n    const partialState = strategy.paths.reduce((finalObj, key) => {\n      finalObj[key] = store.$state[key];\n      return finalObj;\n    }, {});\n    storage.setItem(storeKey, JSON.stringify(partialState));\n  } else {\n    storage.setItem(storeKey, JSON.stringify(store.$state));\n  }\n};\nvar index = ({\n  options,\n  store\n}) => {\n  var _a, _b, _c, _d;\n  if ((_a = options.persist) == null ? void 0 : _a.enabled) {\n    const defaultStrat = [{\n      key: store.$id,\n      storage: sessionStorage\n    }];\n    const strategies = ((_c = (_b = options.persist) == null ? void 0 : _b.strategies) == null ? void 0 : _c.length) ? (_d = options.persist) == null ? void 0 : _d.strategies : defaultStrat;\n    strategies.forEach(strategy => {\n      const storage = strategy.storage || sessionStorage;\n      const storeKey = strategy.key || store.$id;\n      const storageResult = storage.getItem(storeKey);\n      if (storageResult) {\n        store.$patch(JSON.parse(storageResult));\n        updateStorage(strategy, store);\n      }\n    });\n    store.$subscribe(() => {\n      strategies.forEach(strategy => {\n        updateStorage(strategy, store);\n      });\n    });\n  }\n};\nexport { index as default, updateStorage };","map":{"version":3,"names":["updateStorage","strategy","store","storage","sessionStorage","storeKey","key","$id","paths","partialState","reduce","finalObj","$state","setItem","JSON","stringify","index","options","_a","_b","_c","_d","persist","enabled","defaultStrat","strategies","length","forEach","storageResult","getItem","$patch","parse","$subscribe","default"],"sources":["/Users/lyonxie/Desktop/Frontend/node_modules/pinia-plugin-persist/dist/pinia-persist.es.js"],"sourcesContent":["const updateStorage = (strategy, store) => {\n  const storage = strategy.storage || sessionStorage;\n  const storeKey = strategy.key || store.$id;\n  if (strategy.paths) {\n    const partialState = strategy.paths.reduce((finalObj, key) => {\n      finalObj[key] = store.$state[key];\n      return finalObj;\n    }, {});\n    storage.setItem(storeKey, JSON.stringify(partialState));\n  } else {\n    storage.setItem(storeKey, JSON.stringify(store.$state));\n  }\n};\nvar index = ({ options, store }) => {\n  var _a, _b, _c, _d;\n  if ((_a = options.persist) == null ? void 0 : _a.enabled) {\n    const defaultStrat = [{\n      key: store.$id,\n      storage: sessionStorage\n    }];\n    const strategies = ((_c = (_b = options.persist) == null ? void 0 : _b.strategies) == null ? void 0 : _c.length) ? (_d = options.persist) == null ? void 0 : _d.strategies : defaultStrat;\n    strategies.forEach((strategy) => {\n      const storage = strategy.storage || sessionStorage;\n      const storeKey = strategy.key || store.$id;\n      const storageResult = storage.getItem(storeKey);\n      if (storageResult) {\n        store.$patch(JSON.parse(storageResult));\n        updateStorage(strategy, store);\n      }\n    });\n    store.$subscribe(() => {\n      strategies.forEach((strategy) => {\n        updateStorage(strategy, store);\n      });\n    });\n  }\n};\nexport { index as default, updateStorage };\n"],"mappings":"AAAA,MAAMA,aAAa,GAAGA,CAACC,QAAQ,EAAEC,KAAK,KAAK;EACzC,MAAMC,OAAO,GAAGF,QAAQ,CAACE,OAAO,IAAIC,cAAc;EAClD,MAAMC,QAAQ,GAAGJ,QAAQ,CAACK,GAAG,IAAIJ,KAAK,CAACK,GAAG;EAC1C,IAAIN,QAAQ,CAACO,KAAK,EAAE;IAClB,MAAMC,YAAY,GAAGR,QAAQ,CAACO,KAAK,CAACE,MAAM,CAAC,CAACC,QAAQ,EAAEL,GAAG,KAAK;MAC5DK,QAAQ,CAACL,GAAG,CAAC,GAAGJ,KAAK,CAACU,MAAM,CAACN,GAAG,CAAC;MACjC,OAAOK,QAAQ;IACjB,CAAC,EAAE,CAAC,CAAC,CAAC;IACNR,OAAO,CAACU,OAAO,CAACR,QAAQ,EAAES,IAAI,CAACC,SAAS,CAACN,YAAY,CAAC,CAAC;EACzD,CAAC,MAAM;IACLN,OAAO,CAACU,OAAO,CAACR,QAAQ,EAAES,IAAI,CAACC,SAAS,CAACb,KAAK,CAACU,MAAM,CAAC,CAAC;EACzD;AACF,CAAC;AACD,IAAII,KAAK,GAAGA,CAAC;EAAEC,OAAO;EAAEf;AAAM,CAAC,KAAK;EAClC,IAAIgB,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE;EAClB,IAAI,CAACH,EAAE,GAAGD,OAAO,CAACK,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGJ,EAAE,CAACK,OAAO,EAAE;IACxD,MAAMC,YAAY,GAAG,CAAC;MACpBlB,GAAG,EAAEJ,KAAK,CAACK,GAAG;MACdJ,OAAO,EAAEC;IACX,CAAC,CAAC;IACF,MAAMqB,UAAU,GAAG,CAAC,CAACL,EAAE,GAAG,CAACD,EAAE,GAAGF,OAAO,CAACK,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGH,EAAE,CAACM,UAAU,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGL,EAAE,CAACM,MAAM,IAAI,CAACL,EAAE,GAAGJ,OAAO,CAACK,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGD,EAAE,CAACI,UAAU,GAAGD,YAAY;IACzLC,UAAU,CAACE,OAAO,CAAE1B,QAAQ,IAAK;MAC/B,MAAME,OAAO,GAAGF,QAAQ,CAACE,OAAO,IAAIC,cAAc;MAClD,MAAMC,QAAQ,GAAGJ,QAAQ,CAACK,GAAG,IAAIJ,KAAK,CAACK,GAAG;MAC1C,MAAMqB,aAAa,GAAGzB,OAAO,CAAC0B,OAAO,CAACxB,QAAQ,CAAC;MAC/C,IAAIuB,aAAa,EAAE;QACjB1B,KAAK,CAAC4B,MAAM,CAAChB,IAAI,CAACiB,KAAK,CAACH,aAAa,CAAC,CAAC;QACvC5B,aAAa,CAACC,QAAQ,EAAEC,KAAK,CAAC;MAChC;IACF,CAAC,CAAC;IACFA,KAAK,CAAC8B,UAAU,CAAC,MAAM;MACrBP,UAAU,CAACE,OAAO,CAAE1B,QAAQ,IAAK;QAC/BD,aAAa,CAACC,QAAQ,EAAEC,KAAK,CAAC;MAChC,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;AACF,CAAC;AACD,SAASc,KAAK,IAAIiB,OAAO,EAAEjC,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}