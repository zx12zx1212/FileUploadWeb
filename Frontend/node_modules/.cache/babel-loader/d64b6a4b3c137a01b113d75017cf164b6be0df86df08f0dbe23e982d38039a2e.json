{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { onBeforeUnmount, ref } from 'vue';\nimport wrapperRaf from '../raf';\n/**\n * Execute code before next frame but async\n */\n\nexport function useLayoutState(defaultState) {\n  var stateRef = ref(defaultState);\n  var tempState = stateRef.value;\n  var updateBatchRef = [];\n  var rafRef = ref();\n  function setFrameState(updater) {\n    wrapperRaf.cancel(rafRef.value);\n    updateBatchRef.push(updater);\n    rafRef.value = wrapperRaf(function () {\n      var prevBatch = updateBatchRef; // const prevState = stateRef.value;\n\n      updateBatchRef = [];\n      prevBatch.forEach(function (batchUpdater) {\n        tempState = batchUpdater(tempState);\n      }); // if (tempState !== stateRef.value) {\n\n      stateRef.value = tempState; // }\n    });\n  }\n  onBeforeUnmount(function () {\n    wrapperRaf.cancel(rafRef.value);\n  });\n  return [stateRef, setFrameState];\n}","map":{"version":3,"names":["onBeforeUnmount","ref","wrapperRaf","useLayoutState","defaultState","stateRef","tempState","value","updateBatchRef","rafRef","setFrameState","updater","cancel","push","prevBatch","forEach","batchUpdater"],"sources":["/Users/lyonxie/Desktop/test/node_modules/ant-design-vue/es/_util/hooks/useLayoutState.js"],"sourcesContent":["import { onBeforeUnmount, ref } from 'vue';\nimport wrapperRaf from '../raf';\n/**\n * Execute code before next frame but async\n */\n\nexport function useLayoutState(defaultState) {\n  var stateRef = ref(defaultState);\n  var tempState = stateRef.value;\n  var updateBatchRef = [];\n  var rafRef = ref();\n\n  function setFrameState(updater) {\n    wrapperRaf.cancel(rafRef.value);\n    updateBatchRef.push(updater);\n    rafRef.value = wrapperRaf(function () {\n      var prevBatch = updateBatchRef; // const prevState = stateRef.value;\n\n      updateBatchRef = [];\n      prevBatch.forEach(function (batchUpdater) {\n        tempState = batchUpdater(tempState);\n      }); // if (tempState !== stateRef.value) {\n\n      stateRef.value = tempState; // }\n    });\n  }\n\n  onBeforeUnmount(function () {\n    wrapperRaf.cancel(rafRef.value);\n  });\n  return [stateRef, setFrameState];\n}"],"mappings":";AAAA,SAASA,eAAe,EAAEC,GAAG,QAAQ,KAAK;AAC1C,OAAOC,UAAU,MAAM,QAAQ;AAC/B;AACA;AACA;;AAEA,OAAO,SAASC,cAAcA,CAACC,YAAY,EAAE;EAC3C,IAAIC,QAAQ,GAAGJ,GAAG,CAACG,YAAY,CAAC;EAChC,IAAIE,SAAS,GAAGD,QAAQ,CAACE,KAAK;EAC9B,IAAIC,cAAc,GAAG,EAAE;EACvB,IAAIC,MAAM,GAAGR,GAAG,CAAC,CAAC;EAElB,SAASS,aAAaA,CAACC,OAAO,EAAE;IAC9BT,UAAU,CAACU,MAAM,CAACH,MAAM,CAACF,KAAK,CAAC;IAC/BC,cAAc,CAACK,IAAI,CAACF,OAAO,CAAC;IAC5BF,MAAM,CAACF,KAAK,GAAGL,UAAU,CAAC,YAAY;MACpC,IAAIY,SAAS,GAAGN,cAAc,CAAC,CAAC;;MAEhCA,cAAc,GAAG,EAAE;MACnBM,SAAS,CAACC,OAAO,CAAC,UAAUC,YAAY,EAAE;QACxCV,SAAS,GAAGU,YAAY,CAACV,SAAS,CAAC;MACrC,CAAC,CAAC,CAAC,CAAC;;MAEJD,QAAQ,CAACE,KAAK,GAAGD,SAAS,CAAC,CAAC;IAC9B,CAAC,CAAC;EACJ;EAEAN,eAAe,CAAC,YAAY;IAC1BE,UAAU,CAACU,MAAM,CAACH,MAAM,CAACF,KAAK,CAAC;EACjC,CAAC,CAAC;EACF,OAAO,CAACF,QAAQ,EAAEK,aAAa,CAAC;AAClC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}