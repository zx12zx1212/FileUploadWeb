{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport moment from 'moment';\nvar defaultDisabledTime = {\n  disabledHours: function disabledHours() {\n    return [];\n  },\n  disabledMinutes: function disabledMinutes() {\n    return [];\n  },\n  disabledSeconds: function disabledSeconds() {\n    return [];\n  }\n};\nexport function getTodayTime(value) {\n  var today = moment();\n  today.locale(value.locale()).utcOffset(value.utcOffset());\n  return today;\n}\nexport function getTitleString(value) {\n  return value.format('LL');\n}\nexport function getTodayTimeStr(value) {\n  var today = getTodayTime(value);\n  return getTitleString(today);\n}\nexport function getMonthName(month) {\n  var locale = month.locale();\n  var localeData = month.localeData();\n  return localeData[locale === 'zh-cn' ? 'months' : 'monthsShort'](month);\n}\nexport function syncTime(from, to) {\n  if (!moment.isMoment(from) || !moment.isMoment(to)) return;\n  to.hour(from.hour());\n  to.minute(from.minute());\n  to.second(from.second());\n  to.millisecond(from.millisecond());\n}\nexport function getTimeConfig(value, disabledTime) {\n  var disabledTimeConfig = disabledTime ? disabledTime(value) : {};\n  disabledTimeConfig = _extends(_extends({}, defaultDisabledTime), disabledTimeConfig);\n  return disabledTimeConfig;\n}\nexport function isTimeValidByConfig(value, disabledTimeConfig) {\n  var invalidTime = false;\n  if (value) {\n    var hour = value.hour();\n    var minutes = value.minute();\n    var seconds = value.second();\n    var disabledHours = disabledTimeConfig.disabledHours();\n    if (disabledHours.indexOf(hour) === -1) {\n      var disabledMinutes = disabledTimeConfig.disabledMinutes(hour);\n      if (disabledMinutes.indexOf(minutes) === -1) {\n        var disabledSeconds = disabledTimeConfig.disabledSeconds(hour, minutes);\n        invalidTime = disabledSeconds.indexOf(seconds) !== -1;\n      } else {\n        invalidTime = true;\n      }\n    } else {\n      invalidTime = true;\n    }\n  }\n  return !invalidTime;\n}\nexport function isTimeValid(value, disabledTime) {\n  var disabledTimeConfig = getTimeConfig(value, disabledTime);\n  return isTimeValidByConfig(value, disabledTimeConfig);\n}\nexport function isAllowedDate(value, disabledDate, disabledTime) {\n  if (disabledDate) {\n    if (disabledDate(value)) {\n      return false;\n    }\n  }\n  if (disabledTime) {\n    if (!isTimeValid(value, disabledTime)) {\n      return false;\n    }\n  }\n  return true;\n}\nexport function formatDate(value, format) {\n  if (!value) {\n    return '';\n  }\n  if (Array.isArray(format)) {\n    format = format[0];\n  }\n  if (typeof format === 'function') {\n    var result = format(value);\n    if (typeof result === 'string') {\n      return result;\n    } else {\n      throw new Error('The function of format does not return a string');\n    }\n  }\n  return value.format(format);\n}","map":{"version":3,"names":["_extends","moment","defaultDisabledTime","disabledHours","disabledMinutes","disabledSeconds","getTodayTime","value","today","locale","utcOffset","getTitleString","format","getTodayTimeStr","getMonthName","month","localeData","syncTime","from","to","isMoment","hour","minute","second","millisecond","getTimeConfig","disabledTime","disabledTimeConfig","isTimeValidByConfig","invalidTime","minutes","seconds","indexOf","isTimeValid","isAllowedDate","disabledDate","formatDate","Array","isArray","result","Error"],"sources":["/Users/lyonxie/Desktop/test/node_modules/ant-design-vue/es/vc-calendar/src/util/index.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport moment from 'moment';\nvar defaultDisabledTime = {\n  disabledHours: function disabledHours() {\n    return [];\n  },\n  disabledMinutes: function disabledMinutes() {\n    return [];\n  },\n  disabledSeconds: function disabledSeconds() {\n    return [];\n  }\n};\nexport function getTodayTime(value) {\n  var today = moment();\n  today.locale(value.locale()).utcOffset(value.utcOffset());\n  return today;\n}\nexport function getTitleString(value) {\n  return value.format('LL');\n}\nexport function getTodayTimeStr(value) {\n  var today = getTodayTime(value);\n  return getTitleString(today);\n}\nexport function getMonthName(month) {\n  var locale = month.locale();\n  var localeData = month.localeData();\n  return localeData[locale === 'zh-cn' ? 'months' : 'monthsShort'](month);\n}\nexport function syncTime(from, to) {\n  if (!moment.isMoment(from) || !moment.isMoment(to)) return;\n  to.hour(from.hour());\n  to.minute(from.minute());\n  to.second(from.second());\n  to.millisecond(from.millisecond());\n}\nexport function getTimeConfig(value, disabledTime) {\n  var disabledTimeConfig = disabledTime ? disabledTime(value) : {};\n  disabledTimeConfig = _extends(_extends({}, defaultDisabledTime), disabledTimeConfig);\n  return disabledTimeConfig;\n}\nexport function isTimeValidByConfig(value, disabledTimeConfig) {\n  var invalidTime = false;\n\n  if (value) {\n    var hour = value.hour();\n    var minutes = value.minute();\n    var seconds = value.second();\n    var disabledHours = disabledTimeConfig.disabledHours();\n\n    if (disabledHours.indexOf(hour) === -1) {\n      var disabledMinutes = disabledTimeConfig.disabledMinutes(hour);\n\n      if (disabledMinutes.indexOf(minutes) === -1) {\n        var disabledSeconds = disabledTimeConfig.disabledSeconds(hour, minutes);\n        invalidTime = disabledSeconds.indexOf(seconds) !== -1;\n      } else {\n        invalidTime = true;\n      }\n    } else {\n      invalidTime = true;\n    }\n  }\n\n  return !invalidTime;\n}\nexport function isTimeValid(value, disabledTime) {\n  var disabledTimeConfig = getTimeConfig(value, disabledTime);\n  return isTimeValidByConfig(value, disabledTimeConfig);\n}\nexport function isAllowedDate(value, disabledDate, disabledTime) {\n  if (disabledDate) {\n    if (disabledDate(value)) {\n      return false;\n    }\n  }\n\n  if (disabledTime) {\n    if (!isTimeValid(value, disabledTime)) {\n      return false;\n    }\n  }\n\n  return true;\n}\nexport function formatDate(value, format) {\n  if (!value) {\n    return '';\n  }\n\n  if (Array.isArray(format)) {\n    format = format[0];\n  }\n\n  if (typeof format === 'function') {\n    var result = format(value);\n\n    if (typeof result === 'string') {\n      return result;\n    } else {\n      throw new Error('The function of format does not return a string');\n    }\n  }\n\n  return value.format(format);\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}