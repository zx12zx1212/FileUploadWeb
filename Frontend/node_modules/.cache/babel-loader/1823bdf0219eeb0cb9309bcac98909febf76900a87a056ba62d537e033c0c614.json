{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport { defineComponent, ref, computed, onMounted, onUpdated, watch, onUnmounted } from 'vue';\nimport { alignElement, alignPoint } from 'dom-align';\nimport addEventListener from '../vc-util/Dom/addEventListener';\nimport { cloneElement } from '../_util/vnode';\nimport isVisible from '../vc-util/Dom/isVisible';\nimport { isSamePoint, restoreFocus, monitorResize } from './util';\nimport useBuffer from './hooks/useBuffer';\nvar alignProps = {\n  align: Object,\n  target: [Object, Function],\n  onAlign: Function,\n  monitorBufferTime: Number,\n  monitorWindowResize: Boolean,\n  disabled: Boolean\n};\nfunction getElement(func) {\n  if (typeof func !== 'function') return null;\n  return func();\n}\nfunction getPoint(point) {\n  if (_typeof(point) !== 'object' || !point) return null;\n  return point;\n}\nexport default defineComponent({\n  name: 'Align',\n  props: alignProps,\n  emits: ['align'],\n  setup: function setup(props, _ref) {\n    var expose = _ref.expose,\n      slots = _ref.slots;\n    var cacheRef = ref({});\n    var nodeRef = ref();\n    var forceAlignPropsRef = computed(function () {\n      return {\n        disabled: props.disabled,\n        target: props.target,\n        onAlign: props.onAlign\n      };\n    });\n    var _useBuffer = useBuffer(function () {\n        var _forceAlignPropsRef$v = forceAlignPropsRef.value,\n          latestDisabled = _forceAlignPropsRef$v.disabled,\n          latestTarget = _forceAlignPropsRef$v.target,\n          latestOnAlign = _forceAlignPropsRef$v.onAlign;\n        if (!latestDisabled && latestTarget && nodeRef.value && nodeRef.value.$el) {\n          var source = nodeRef.value.$el;\n          var result;\n          var element = getElement(latestTarget);\n          var point = getPoint(latestTarget);\n          cacheRef.value.element = element;\n          cacheRef.value.point = point; // IE lose focus after element realign\n          // We should record activeElement and restore later\n\n          // IE lose focus after element realign\n          // We should record activeElement and restore later\n          var _document = document,\n            activeElement = _document.activeElement; // We only align when element is visible\n\n          // We only align when element is visible\n          if (element && isVisible(element)) {\n            result = alignElement(source, element, props.align);\n          } else if (point) {\n            result = alignPoint(source, point, props.align);\n          }\n          restoreFocus(activeElement, source);\n          if (latestOnAlign && result) {\n            latestOnAlign(source, result);\n          }\n          return true;\n        }\n        return false;\n      }, computed(function () {\n        return props.monitorBufferTime;\n      })),\n      _useBuffer2 = _slicedToArray(_useBuffer, 2),\n      _forceAlign = _useBuffer2[0],\n      cancelForceAlign = _useBuffer2[1]; // ===================== Effect =====================\n    // Listen for target updated\n\n    var resizeMonitor = ref({\n      cancel: function cancel() {}\n    }); // Listen for source updated\n\n    var sourceResizeMonitor = ref({\n      cancel: function cancel() {}\n    });\n    var goAlign = function goAlign() {\n      var target = props.target;\n      var element = getElement(target);\n      var point = getPoint(target);\n      if (nodeRef.value && nodeRef.value.$el !== sourceResizeMonitor.value.element) {\n        sourceResizeMonitor.value.cancel();\n        sourceResizeMonitor.value.element = nodeRef.value.$el;\n        sourceResizeMonitor.value.cancel = monitorResize(nodeRef.value.$el, _forceAlign);\n      }\n      if (cacheRef.value.element !== element || !isSamePoint(cacheRef.value.point, point)) {\n        _forceAlign(); // Add resize observer\n\n        if (resizeMonitor.value.element !== element) {\n          resizeMonitor.value.cancel();\n          resizeMonitor.value.element = element;\n          resizeMonitor.value.cancel = monitorResize(element, _forceAlign);\n        }\n      }\n    };\n    onMounted(function () {\n      goAlign();\n    });\n    onUpdated(function () {\n      goAlign();\n    }); // Listen for disabled change\n\n    watch(function () {\n      return props.disabled;\n    }, function (disabled) {\n      if (!disabled) {\n        _forceAlign();\n      } else {\n        cancelForceAlign();\n      }\n    }, {\n      flush: 'post'\n    }); // Listen for window resize\n\n    var winResizeRef = ref(null);\n    watch(function () {\n      return props.monitorWindowResize;\n    }, function (monitorWindowResize) {\n      if (monitorWindowResize) {\n        if (!winResizeRef.value) {\n          winResizeRef.value = addEventListener(window, 'resize', _forceAlign);\n        }\n      } else if (winResizeRef.value) {\n        winResizeRef.value.remove();\n        winResizeRef.value = null;\n      }\n    }, {\n      flush: 'post'\n    });\n    onUnmounted(function () {\n      resizeMonitor.value.cancel();\n      sourceResizeMonitor.value.cancel();\n      if (winResizeRef.value) winResizeRef.value.remove();\n      cancelForceAlign();\n    });\n    expose({\n      forceAlign: function forceAlign() {\n        return _forceAlign(true);\n      }\n    });\n    return function () {\n      var child = slots === null || slots === void 0 ? void 0 : slots.default();\n      if (child) {\n        return cloneElement(child[0], {\n          ref: nodeRef\n        }, true, true);\n      }\n      return child && child[0];\n    };\n  }\n});","map":{"version":3,"names":["_slicedToArray","_typeof","defineComponent","ref","computed","onMounted","onUpdated","watch","onUnmounted","alignElement","alignPoint","addEventListener","cloneElement","isVisible","isSamePoint","restoreFocus","monitorResize","useBuffer","alignProps","align","Object","target","Function","onAlign","monitorBufferTime","Number","monitorWindowResize","Boolean","disabled","getElement","func","getPoint","point","name","props","emits","setup","_ref","expose","slots","cacheRef","nodeRef","forceAlignPropsRef","_useBuffer","_forceAlignPropsRef$v","value","latestDisabled","latestTarget","latestOnAlign","$el","source","result","element","_document","document","activeElement","_useBuffer2","_forceAlign","cancelForceAlign","resizeMonitor","cancel","sourceResizeMonitor","goAlign","flush","winResizeRef","window","remove","forceAlign","child","default"],"sources":["/Users/lyonxie/Desktop/Frontend/node_modules/ant-design-vue/es/vc-align/Align.js"],"sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport { defineComponent, ref, computed, onMounted, onUpdated, watch, onUnmounted } from 'vue';\nimport { alignElement, alignPoint } from 'dom-align';\nimport addEventListener from '../vc-util/Dom/addEventListener';\nimport { cloneElement } from '../_util/vnode';\nimport isVisible from '../vc-util/Dom/isVisible';\nimport { isSamePoint, restoreFocus, monitorResize } from './util';\nimport useBuffer from './hooks/useBuffer';\nvar alignProps = {\n  align: Object,\n  target: [Object, Function],\n  onAlign: Function,\n  monitorBufferTime: Number,\n  monitorWindowResize: Boolean,\n  disabled: Boolean\n};\n\nfunction getElement(func) {\n  if (typeof func !== 'function') return null;\n  return func();\n}\n\nfunction getPoint(point) {\n  if (_typeof(point) !== 'object' || !point) return null;\n  return point;\n}\n\nexport default defineComponent({\n  name: 'Align',\n  props: alignProps,\n  emits: ['align'],\n  setup: function setup(props, _ref) {\n    var expose = _ref.expose,\n        slots = _ref.slots;\n    var cacheRef = ref({});\n    var nodeRef = ref();\n    var forceAlignPropsRef = computed(function () {\n      return {\n        disabled: props.disabled,\n        target: props.target,\n        onAlign: props.onAlign\n      };\n    });\n\n    var _useBuffer = useBuffer(function () {\n      var _forceAlignPropsRef$v = forceAlignPropsRef.value,\n          latestDisabled = _forceAlignPropsRef$v.disabled,\n          latestTarget = _forceAlignPropsRef$v.target,\n          latestOnAlign = _forceAlignPropsRef$v.onAlign;\n\n      if (!latestDisabled && latestTarget && nodeRef.value && nodeRef.value.$el) {\n        var source = nodeRef.value.$el;\n        var result;\n        var element = getElement(latestTarget);\n        var point = getPoint(latestTarget);\n        cacheRef.value.element = element;\n        cacheRef.value.point = point; // IE lose focus after element realign\n        // We should record activeElement and restore later\n\n        // IE lose focus after element realign\n        // We should record activeElement and restore later\n        var _document = document,\n            activeElement = _document.activeElement; // We only align when element is visible\n\n        // We only align when element is visible\n        if (element && isVisible(element)) {\n          result = alignElement(source, element, props.align);\n        } else if (point) {\n          result = alignPoint(source, point, props.align);\n        }\n\n        restoreFocus(activeElement, source);\n\n        if (latestOnAlign && result) {\n          latestOnAlign(source, result);\n        }\n\n        return true;\n      }\n\n      return false;\n    }, computed(function () {\n      return props.monitorBufferTime;\n    })),\n        _useBuffer2 = _slicedToArray(_useBuffer, 2),\n        _forceAlign = _useBuffer2[0],\n        cancelForceAlign = _useBuffer2[1]; // ===================== Effect =====================\n    // Listen for target updated\n\n\n    var resizeMonitor = ref({\n      cancel: function cancel() {}\n    }); // Listen for source updated\n\n    var sourceResizeMonitor = ref({\n      cancel: function cancel() {}\n    });\n\n    var goAlign = function goAlign() {\n      var target = props.target;\n      var element = getElement(target);\n      var point = getPoint(target);\n\n      if (nodeRef.value && nodeRef.value.$el !== sourceResizeMonitor.value.element) {\n        sourceResizeMonitor.value.cancel();\n        sourceResizeMonitor.value.element = nodeRef.value.$el;\n        sourceResizeMonitor.value.cancel = monitorResize(nodeRef.value.$el, _forceAlign);\n      }\n\n      if (cacheRef.value.element !== element || !isSamePoint(cacheRef.value.point, point)) {\n        _forceAlign(); // Add resize observer\n\n\n        if (resizeMonitor.value.element !== element) {\n          resizeMonitor.value.cancel();\n          resizeMonitor.value.element = element;\n          resizeMonitor.value.cancel = monitorResize(element, _forceAlign);\n        }\n      }\n    };\n\n    onMounted(function () {\n      goAlign();\n    });\n    onUpdated(function () {\n      goAlign();\n    }); // Listen for disabled change\n\n    watch(function () {\n      return props.disabled;\n    }, function (disabled) {\n      if (!disabled) {\n        _forceAlign();\n      } else {\n        cancelForceAlign();\n      }\n    }, {\n      flush: 'post'\n    }); // Listen for window resize\n\n    var winResizeRef = ref(null);\n    watch(function () {\n      return props.monitorWindowResize;\n    }, function (monitorWindowResize) {\n      if (monitorWindowResize) {\n        if (!winResizeRef.value) {\n          winResizeRef.value = addEventListener(window, 'resize', _forceAlign);\n        }\n      } else if (winResizeRef.value) {\n        winResizeRef.value.remove();\n        winResizeRef.value = null;\n      }\n    }, {\n      flush: 'post'\n    });\n    onUnmounted(function () {\n      resizeMonitor.value.cancel();\n      sourceResizeMonitor.value.cancel();\n      if (winResizeRef.value) winResizeRef.value.remove();\n      cancelForceAlign();\n    });\n    expose({\n      forceAlign: function forceAlign() {\n        return _forceAlign(true);\n      }\n    });\n    return function () {\n      var child = slots === null || slots === void 0 ? void 0 : slots.default();\n\n      if (child) {\n        return cloneElement(child[0], {\n          ref: nodeRef\n        }, true, true);\n      }\n\n      return child && child[0];\n    };\n  }\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}