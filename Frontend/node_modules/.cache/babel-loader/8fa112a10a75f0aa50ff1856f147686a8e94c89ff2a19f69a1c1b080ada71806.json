{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { createVNode, render as vueRender } from 'vue';\nimport ConfirmDialog from './ConfirmDialog';\nimport { destroyFns } from './Modal';\nimport Omit from 'omit.js';\nvar confirm = function confirm(config) {\n  var div = document.createElement('div');\n  document.body.appendChild(div);\n  var currentConfig = _extends(_extends({}, Omit(config, ['parentContext', 'appContext'])), {\n    close: close,\n    visible: true\n  });\n  var confirmDialogInstance = null;\n  function close() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    currentConfig = _extends(_extends({}, currentConfig), {\n      visible: false,\n      afterClose: destroy.bind.apply(destroy, [this].concat(args))\n    });\n    update(currentConfig);\n  }\n  function update(newConfig) {\n    currentConfig = _extends(_extends({}, currentConfig), newConfig);\n    if (confirmDialogInstance) {\n      _extends(confirmDialogInstance.component.props, currentConfig);\n      confirmDialogInstance.component.update();\n    }\n  }\n  function destroy() {\n    if (confirmDialogInstance && div.parentNode) {\n      _extends(confirmDialogInstance.component.props, {\n        vIf: false\n      }); // hack destroy\n\n      confirmDialogInstance.component.update();\n      confirmDialogInstance = null;\n      div.parentNode.removeChild(div);\n    }\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    var triggerCancel = args.some(function (param) {\n      return param && param.triggerCancel;\n    });\n    if (config.onCancel && triggerCancel) {\n      config.onCancel.apply(config, args);\n    }\n    for (var i = 0; i < destroyFns.length; i++) {\n      var fn = destroyFns[i];\n      if (fn === close) {\n        destroyFns.splice(i, 1);\n        break;\n      }\n    }\n  }\n  var Wrapper = function Wrapper(p) {\n    return p.vIf ? _createVNode(ConfirmDialog, p, null) : null;\n  };\n  function render(props) {\n    var vm = createVNode(Wrapper, _extends(_extends({}, props), {\n      vIf: true\n    }));\n    vm.appContext = config.parentContext || config.appContext || vm.appContext;\n    vueRender(vm, div);\n    return vm;\n  }\n  confirmDialogInstance = render(currentConfig);\n  destroyFns.push(close);\n  return {\n    destroy: close,\n    update: update\n  };\n};\nexport default confirm;","map":{"version":3,"names":["_extends","createVNode","_createVNode","render","vueRender","ConfirmDialog","destroyFns","Omit","confirm","config","div","document","createElement","body","appendChild","currentConfig","close","visible","confirmDialogInstance","_len","arguments","length","args","Array","_key","afterClose","destroy","bind","apply","concat","update","newConfig","component","props","parentNode","vIf","removeChild","_len2","_key2","triggerCancel","some","param","onCancel","i","fn","splice","Wrapper","p","vm","appContext","parentContext","push"],"sources":["/Users/lyonxie/Desktop/test/node_modules/ant-design-vue/es/modal/confirm.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { createVNode, render as vueRender } from 'vue';\nimport ConfirmDialog from './ConfirmDialog';\nimport { destroyFns } from './Modal';\nimport Omit from 'omit.js';\n\nvar confirm = function confirm(config) {\n  var div = document.createElement('div');\n  document.body.appendChild(div);\n\n  var currentConfig = _extends(_extends({}, Omit(config, ['parentContext', 'appContext'])), {\n    close: close,\n    visible: true\n  });\n\n  var confirmDialogInstance = null;\n\n  function close() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    currentConfig = _extends(_extends({}, currentConfig), {\n      visible: false,\n      afterClose: destroy.bind.apply(destroy, [this].concat(args))\n    });\n    update(currentConfig);\n  }\n\n  function update(newConfig) {\n    currentConfig = _extends(_extends({}, currentConfig), newConfig);\n\n    if (confirmDialogInstance) {\n      _extends(confirmDialogInstance.component.props, currentConfig);\n\n      confirmDialogInstance.component.update();\n    }\n  }\n\n  function destroy() {\n    if (confirmDialogInstance && div.parentNode) {\n      _extends(confirmDialogInstance.component.props, {\n        vIf: false\n      }); // hack destroy\n\n\n      confirmDialogInstance.component.update();\n      confirmDialogInstance = null;\n      div.parentNode.removeChild(div);\n    }\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    var triggerCancel = args.some(function (param) {\n      return param && param.triggerCancel;\n    });\n\n    if (config.onCancel && triggerCancel) {\n      config.onCancel.apply(config, args);\n    }\n\n    for (var i = 0; i < destroyFns.length; i++) {\n      var fn = destroyFns[i];\n\n      if (fn === close) {\n        destroyFns.splice(i, 1);\n        break;\n      }\n    }\n  }\n\n  var Wrapper = function Wrapper(p) {\n    return p.vIf ? _createVNode(ConfirmDialog, p, null) : null;\n  };\n\n  function render(props) {\n    var vm = createVNode(Wrapper, _extends(_extends({}, props), {\n      vIf: true\n    }));\n    vm.appContext = config.parentContext || config.appContext || vm.appContext;\n    vueRender(vm, div);\n    return vm;\n  }\n\n  confirmDialogInstance = render(currentConfig);\n  destroyFns.push(close);\n  return {\n    destroy: close,\n    update: update\n  };\n};\n\nexport default confirm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}