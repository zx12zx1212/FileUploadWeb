{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode, resolveDirective as _resolveDirective } from \"vue\";\nimport Trigger from '../../vc-trigger';\nimport { computed, defineComponent, onBeforeUnmount, ref, watch } from 'vue';\nimport { useInjectMenu } from './hooks/useMenuContext';\nimport { placements, placementsRtl } from './placements';\nimport raf from '../../_util/raf';\nimport classNames from '../../_util/classNames';\nvar popupPlacementMap = {\n  horizontal: 'bottomLeft',\n  vertical: 'rightTop',\n  'vertical-left': 'rightTop',\n  'vertical-right': 'leftTop'\n};\nexport default defineComponent({\n  name: 'PopupTrigger',\n  inheritAttrs: false,\n  props: {\n    prefixCls: String,\n    mode: String,\n    visible: Boolean,\n    // popup: React.ReactNode;\n    popupClassName: String,\n    popupOffset: Array,\n    disabled: Boolean,\n    onVisibleChange: Function\n  },\n  slots: ['popup'],\n  emits: ['visibleChange'],\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots,\n      emit = _ref.emit;\n    var innerVisible = ref(false);\n    var _useInjectMenu = useInjectMenu(),\n      getPopupContainer = _useInjectMenu.getPopupContainer,\n      rtl = _useInjectMenu.rtl,\n      subMenuOpenDelay = _useInjectMenu.subMenuOpenDelay,\n      subMenuCloseDelay = _useInjectMenu.subMenuCloseDelay,\n      builtinPlacements = _useInjectMenu.builtinPlacements,\n      triggerSubMenuAction = _useInjectMenu.triggerSubMenuAction,\n      isRootMenu = _useInjectMenu.isRootMenu;\n    var placement = computed(function () {\n      return rtl.value ? _extends(_extends({}, placementsRtl), builtinPlacements.value) : _extends(_extends({}, placements), builtinPlacements.value);\n    });\n    var popupPlacement = computed(function () {\n      return popupPlacementMap[props.mode];\n    });\n    var visibleRef = ref();\n    watch(function () {\n      return props.visible;\n    }, function (visible) {\n      raf.cancel(visibleRef.value);\n      visibleRef.value = raf(function () {\n        innerVisible.value = visible;\n      });\n    }, {\n      immediate: true\n    });\n    onBeforeUnmount(function () {\n      raf.cancel(visibleRef.value);\n    });\n    var onVisibleChange = function onVisibleChange(visible) {\n      emit('visibleChange', visible);\n    };\n    return function () {\n      var prefixCls = props.prefixCls,\n        popupClassName = props.popupClassName,\n        mode = props.mode,\n        popupOffset = props.popupOffset,\n        disabled = props.disabled;\n      return _createVNode(Trigger, {\n        \"prefixCls\": prefixCls,\n        \"popupClassName\": classNames(\"\".concat(prefixCls, \"-popup\"), _defineProperty({}, \"\".concat(prefixCls, \"-rtl\"), rtl.value), popupClassName),\n        \"stretch\": mode === 'horizontal' ? 'minWidth' : null,\n        \"getPopupContainer\": isRootMenu.value ? getPopupContainer.value : function (triggerNode) {\n          return triggerNode.parentNode;\n        },\n        \"builtinPlacements\": placement.value,\n        \"popupPlacement\": popupPlacement.value,\n        \"popupVisible\": innerVisible.value,\n        \"popupAlign\": popupOffset && {\n          offset: popupOffset\n        },\n        \"action\": disabled ? [] : [triggerSubMenuAction.value],\n        \"mouseEnterDelay\": subMenuOpenDelay.value,\n        \"mouseLeaveDelay\": subMenuCloseDelay.value,\n        \"onPopupVisibleChange\": onVisibleChange,\n        \"forceRender\": true\n      }, {\n        popup: function popup() {\n          var _a;\n          return (_a = slots.popup) === null || _a === void 0 ? void 0 : _a.call(slots, {\n            visible: innerVisible.value\n          });\n        },\n        default: slots.default\n      });\n    };\n  }\n});","map":{"version":3,"names":["_defineProperty","_extends","createVNode","_createVNode","resolveDirective","_resolveDirective","Trigger","computed","defineComponent","onBeforeUnmount","ref","watch","useInjectMenu","placements","placementsRtl","raf","classNames","popupPlacementMap","horizontal","vertical","name","inheritAttrs","props","prefixCls","String","mode","visible","Boolean","popupClassName","popupOffset","Array","disabled","onVisibleChange","Function","slots","emits","setup","_ref","emit","innerVisible","_useInjectMenu","getPopupContainer","rtl","subMenuOpenDelay","subMenuCloseDelay","builtinPlacements","triggerSubMenuAction","isRootMenu","placement","value","popupPlacement","visibleRef","cancel","immediate","concat","triggerNode","parentNode","offset","popup","_a","call","default"],"sources":["/Users/lyonxie/Desktop/test/node_modules/ant-design-vue/es/menu/src/PopupTrigger.js"],"sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode, resolveDirective as _resolveDirective } from \"vue\";\nimport Trigger from '../../vc-trigger';\nimport { computed, defineComponent, onBeforeUnmount, ref, watch } from 'vue';\nimport { useInjectMenu } from './hooks/useMenuContext';\nimport { placements, placementsRtl } from './placements';\nimport raf from '../../_util/raf';\nimport classNames from '../../_util/classNames';\nvar popupPlacementMap = {\n  horizontal: 'bottomLeft',\n  vertical: 'rightTop',\n  'vertical-left': 'rightTop',\n  'vertical-right': 'leftTop'\n};\nexport default defineComponent({\n  name: 'PopupTrigger',\n  inheritAttrs: false,\n  props: {\n    prefixCls: String,\n    mode: String,\n    visible: Boolean,\n    // popup: React.ReactNode;\n    popupClassName: String,\n    popupOffset: Array,\n    disabled: Boolean,\n    onVisibleChange: Function\n  },\n  slots: ['popup'],\n  emits: ['visibleChange'],\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots,\n        emit = _ref.emit;\n    var innerVisible = ref(false);\n\n    var _useInjectMenu = useInjectMenu(),\n        getPopupContainer = _useInjectMenu.getPopupContainer,\n        rtl = _useInjectMenu.rtl,\n        subMenuOpenDelay = _useInjectMenu.subMenuOpenDelay,\n        subMenuCloseDelay = _useInjectMenu.subMenuCloseDelay,\n        builtinPlacements = _useInjectMenu.builtinPlacements,\n        triggerSubMenuAction = _useInjectMenu.triggerSubMenuAction,\n        isRootMenu = _useInjectMenu.isRootMenu;\n\n    var placement = computed(function () {\n      return rtl.value ? _extends(_extends({}, placementsRtl), builtinPlacements.value) : _extends(_extends({}, placements), builtinPlacements.value);\n    });\n    var popupPlacement = computed(function () {\n      return popupPlacementMap[props.mode];\n    });\n    var visibleRef = ref();\n    watch(function () {\n      return props.visible;\n    }, function (visible) {\n      raf.cancel(visibleRef.value);\n      visibleRef.value = raf(function () {\n        innerVisible.value = visible;\n      });\n    }, {\n      immediate: true\n    });\n    onBeforeUnmount(function () {\n      raf.cancel(visibleRef.value);\n    });\n\n    var onVisibleChange = function onVisibleChange(visible) {\n      emit('visibleChange', visible);\n    };\n\n    return function () {\n      var prefixCls = props.prefixCls,\n          popupClassName = props.popupClassName,\n          mode = props.mode,\n          popupOffset = props.popupOffset,\n          disabled = props.disabled;\n      return _createVNode(Trigger, {\n        \"prefixCls\": prefixCls,\n        \"popupClassName\": classNames(\"\".concat(prefixCls, \"-popup\"), _defineProperty({}, \"\".concat(prefixCls, \"-rtl\"), rtl.value), popupClassName),\n        \"stretch\": mode === 'horizontal' ? 'minWidth' : null,\n        \"getPopupContainer\": isRootMenu.value ? getPopupContainer.value : function (triggerNode) {\n          return triggerNode.parentNode;\n        },\n        \"builtinPlacements\": placement.value,\n        \"popupPlacement\": popupPlacement.value,\n        \"popupVisible\": innerVisible.value,\n        \"popupAlign\": popupOffset && {\n          offset: popupOffset\n        },\n        \"action\": disabled ? [] : [triggerSubMenuAction.value],\n        \"mouseEnterDelay\": subMenuOpenDelay.value,\n        \"mouseLeaveDelay\": subMenuCloseDelay.value,\n        \"onPopupVisibleChange\": onVisibleChange,\n        \"forceRender\": true\n      }, {\n        popup: function popup() {\n          var _a;\n\n          return (_a = slots.popup) === null || _a === void 0 ? void 0 : _a.call(slots, {\n            visible: innerVisible.value\n          });\n        },\n        default: slots.default\n      });\n    };\n  }\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}