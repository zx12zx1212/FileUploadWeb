{"ast":null,"code":"import { createVNode as _createVNode, resolveDirective as _resolveDirective } from \"vue\";\nimport PropTypes from './vue-types';\nimport { defineComponent, nextTick, onBeforeMount, onMounted, onUpdated, Teleport, watch } from 'vue';\nimport { useInjectPortal } from '../vc-trigger/context';\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'Portal',\n  inheritAttrs: false,\n  props: {\n    getContainer: PropTypes.func.isRequired,\n    didUpdate: Function\n  },\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    let isSSR = true;\n    // getContainer 不会改变，不用响应式\n    let container;\n    const {\n      shouldRender\n    } = useInjectPortal();\n    function setContainer() {\n      if (shouldRender.value) {\n        container = props.getContainer();\n      }\n    }\n    onBeforeMount(() => {\n      isSSR = false;\n      // drawer\n      setContainer();\n    });\n    onMounted(() => {\n      if (container) return;\n      // https://github.com/vueComponent/ant-design-vue/issues/6937\n      setContainer();\n    });\n    const stopWatch = watch(shouldRender, () => {\n      if (shouldRender.value && !container) {\n        container = props.getContainer();\n      }\n      if (container) {\n        stopWatch();\n      }\n    });\n    onUpdated(() => {\n      nextTick(() => {\n        var _a;\n        if (shouldRender.value) {\n          (_a = props.didUpdate) === null || _a === void 0 ? void 0 : _a.call(props, props);\n        }\n      });\n    });\n    // onBeforeUnmount(() => {\n    //   if (container && container.parentNode) {\n    //     container.parentNode.removeChild(container);\n    //   }\n    // });\n    return () => {\n      var _a;\n      if (!shouldRender.value) return null;\n      if (isSSR) {\n        return (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots);\n      }\n      return container ? _createVNode(Teleport, {\n        \"to\": container\n      }, slots) : null;\n    };\n  }\n});","map":{"version":3,"names":["createVNode","_createVNode","resolveDirective","_resolveDirective","PropTypes","defineComponent","nextTick","onBeforeMount","onMounted","onUpdated","Teleport","watch","useInjectPortal","compatConfig","MODE","name","inheritAttrs","props","getContainer","func","isRequired","didUpdate","Function","setup","_ref","slots","isSSR","container","shouldRender","setContainer","value","stopWatch","_a","call","default"],"sources":["/Users/lyonxie/Desktop/Frontend/node_modules/ant-design-vue/es/_util/Portal.js"],"sourcesContent":["import { createVNode as _createVNode, resolveDirective as _resolveDirective } from \"vue\";\nimport PropTypes from './vue-types';\nimport { defineComponent, nextTick, onBeforeMount, onMounted, onUpdated, Teleport, watch } from 'vue';\nimport { useInjectPortal } from '../vc-trigger/context';\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'Portal',\n  inheritAttrs: false,\n  props: {\n    getContainer: PropTypes.func.isRequired,\n    didUpdate: Function\n  },\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    let isSSR = true;\n    // getContainer 不会改变，不用响应式\n    let container;\n    const {\n      shouldRender\n    } = useInjectPortal();\n    function setContainer() {\n      if (shouldRender.value) {\n        container = props.getContainer();\n      }\n    }\n    onBeforeMount(() => {\n      isSSR = false;\n      // drawer\n      setContainer();\n    });\n    onMounted(() => {\n      if (container) return;\n      // https://github.com/vueComponent/ant-design-vue/issues/6937\n      setContainer();\n    });\n    const stopWatch = watch(shouldRender, () => {\n      if (shouldRender.value && !container) {\n        container = props.getContainer();\n      }\n      if (container) {\n        stopWatch();\n      }\n    });\n    onUpdated(() => {\n      nextTick(() => {\n        var _a;\n        if (shouldRender.value) {\n          (_a = props.didUpdate) === null || _a === void 0 ? void 0 : _a.call(props, props);\n        }\n      });\n    });\n    // onBeforeUnmount(() => {\n    //   if (container && container.parentNode) {\n    //     container.parentNode.removeChild(container);\n    //   }\n    // });\n    return () => {\n      var _a;\n      if (!shouldRender.value) return null;\n      if (isSSR) {\n        return (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots);\n      }\n      return container ? _createVNode(Teleport, {\n        \"to\": container\n      }, slots) : null;\n    };\n  }\n});"],"mappings":"AAAA,SAASA,WAAW,IAAIC,YAAY,EAAEC,gBAAgB,IAAIC,iBAAiB,QAAQ,KAAK;AACxF,OAAOC,SAAS,MAAM,aAAa;AACnC,SAASC,eAAe,EAAEC,QAAQ,EAAEC,aAAa,EAAEC,SAAS,EAAEC,SAAS,EAAEC,QAAQ,EAAEC,KAAK,QAAQ,KAAK;AACrG,SAASC,eAAe,QAAQ,uBAAuB;AACvD,eAAeP,eAAe,CAAC;EAC7BQ,YAAY,EAAE;IACZC,IAAI,EAAE;EACR,CAAC;EACDC,IAAI,EAAE,QAAQ;EACdC,YAAY,EAAE,KAAK;EACnBC,KAAK,EAAE;IACLC,YAAY,EAAEd,SAAS,CAACe,IAAI,CAACC,UAAU;IACvCC,SAAS,EAAEC;EACb,CAAC;EACDC,KAAKA,CAACN,KAAK,EAAEO,IAAI,EAAE;IACjB,IAAI;MACFC;IACF,CAAC,GAAGD,IAAI;IACR,IAAIE,KAAK,GAAG,IAAI;IAChB;IACA,IAAIC,SAAS;IACb,MAAM;MACJC;IACF,CAAC,GAAGhB,eAAe,CAAC,CAAC;IACrB,SAASiB,YAAYA,CAAA,EAAG;MACtB,IAAID,YAAY,CAACE,KAAK,EAAE;QACtBH,SAAS,GAAGV,KAAK,CAACC,YAAY,CAAC,CAAC;MAClC;IACF;IACAX,aAAa,CAAC,MAAM;MAClBmB,KAAK,GAAG,KAAK;MACb;MACAG,YAAY,CAAC,CAAC;IAChB,CAAC,CAAC;IACFrB,SAAS,CAAC,MAAM;MACd,IAAImB,SAAS,EAAE;MACf;MACAE,YAAY,CAAC,CAAC;IAChB,CAAC,CAAC;IACF,MAAME,SAAS,GAAGpB,KAAK,CAACiB,YAAY,EAAE,MAAM;MAC1C,IAAIA,YAAY,CAACE,KAAK,IAAI,CAACH,SAAS,EAAE;QACpCA,SAAS,GAAGV,KAAK,CAACC,YAAY,CAAC,CAAC;MAClC;MACA,IAAIS,SAAS,EAAE;QACbI,SAAS,CAAC,CAAC;MACb;IACF,CAAC,CAAC;IACFtB,SAAS,CAAC,MAAM;MACdH,QAAQ,CAAC,MAAM;QACb,IAAI0B,EAAE;QACN,IAAIJ,YAAY,CAACE,KAAK,EAAE;UACtB,CAACE,EAAE,GAAGf,KAAK,CAACI,SAAS,MAAM,IAAI,IAAIW,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACC,IAAI,CAAChB,KAAK,EAAEA,KAAK,CAAC;QACnF;MACF,CAAC,CAAC;IACJ,CAAC,CAAC;IACF;IACA;IACA;IACA;IACA;IACA,OAAO,MAAM;MACX,IAAIe,EAAE;MACN,IAAI,CAACJ,YAAY,CAACE,KAAK,EAAE,OAAO,IAAI;MACpC,IAAIJ,KAAK,EAAE;QACT,OAAO,CAACM,EAAE,GAAGP,KAAK,CAACS,OAAO,MAAM,IAAI,IAAIF,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACC,IAAI,CAACR,KAAK,CAAC;MACjF;MACA,OAAOE,SAAS,GAAG1B,YAAY,CAACS,QAAQ,EAAE;QACxC,IAAI,EAAEiB;MACR,CAAC,EAAEF,KAAK,CAAC,GAAG,IAAI;IAClB,CAAC;EACH;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}