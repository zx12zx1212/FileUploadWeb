{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { defineComponent, inject, provide, toRef } from 'vue';\nvar MenuContextKey = Symbol('menuContextKey');\nvar useProvideMenu = function useProvideMenu(props) {\n  provide(MenuContextKey, props);\n};\nvar useInjectMenu = function useInjectMenu() {\n  return inject(MenuContextKey);\n};\nvar MenuFirstLevelContextKey = Symbol('menuFirstLevelContextKey');\nvar useProvideFirstLevel = function useProvideFirstLevel(firstLevel) {\n  provide(MenuFirstLevelContextKey, firstLevel);\n};\nvar useInjectFirstLevel = function useInjectFirstLevel() {\n  return inject(MenuFirstLevelContextKey, true);\n};\nvar MenuContextProvider = defineComponent({\n  name: 'MenuContextProvider',\n  inheritAttrs: false,\n  props: {\n    mode: {\n      type: String,\n      default: undefined\n    },\n    overflowDisabled: {\n      type: Boolean,\n      default: undefined\n    },\n    isRootMenu: {\n      type: Boolean,\n      default: undefined\n    }\n  },\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots;\n    var menuContext = useInjectMenu();\n    var newContext = _extends({}, menuContext); // 确保传入的属性不会动态增删\n    // 不需要 watch 变化\n\n    if (props.mode !== undefined) {\n      newContext.mode = toRef(props, 'mode');\n    }\n    if (props.isRootMenu !== undefined) {\n      newContext.isRootMenu = toRef(props, 'isRootMenu');\n    }\n    if (props.overflowDisabled !== undefined) {\n      newContext.overflowDisabled = toRef(props, 'overflowDisabled');\n    }\n    useProvideMenu(newContext);\n    return function () {\n      var _a;\n      return (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots);\n    };\n  }\n});\nexport { useProvideMenu, MenuContextKey, useInjectMenu, MenuFirstLevelContextKey, useProvideFirstLevel, useInjectFirstLevel, MenuContextProvider };\nexport default useProvideMenu;","map":{"version":3,"names":["_extends","defineComponent","inject","provide","toRef","MenuContextKey","Symbol","useProvideMenu","props","useInjectMenu","MenuFirstLevelContextKey","useProvideFirstLevel","firstLevel","useInjectFirstLevel","MenuContextProvider","name","inheritAttrs","mode","type","String","default","undefined","overflowDisabled","Boolean","isRootMenu","setup","_ref","slots","menuContext","newContext","_a","call"],"sources":["/Users/lyonxie/Desktop/test/node_modules/ant-design-vue/es/menu/src/hooks/useMenuContext.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { defineComponent, inject, provide, toRef } from 'vue';\nvar MenuContextKey = Symbol('menuContextKey');\n\nvar useProvideMenu = function useProvideMenu(props) {\n  provide(MenuContextKey, props);\n};\n\nvar useInjectMenu = function useInjectMenu() {\n  return inject(MenuContextKey);\n};\n\nvar MenuFirstLevelContextKey = Symbol('menuFirstLevelContextKey');\n\nvar useProvideFirstLevel = function useProvideFirstLevel(firstLevel) {\n  provide(MenuFirstLevelContextKey, firstLevel);\n};\n\nvar useInjectFirstLevel = function useInjectFirstLevel() {\n  return inject(MenuFirstLevelContextKey, true);\n};\n\nvar MenuContextProvider = defineComponent({\n  name: 'MenuContextProvider',\n  inheritAttrs: false,\n  props: {\n    mode: {\n      type: String,\n      default: undefined\n    },\n    overflowDisabled: {\n      type: Boolean,\n      default: undefined\n    },\n    isRootMenu: {\n      type: Boolean,\n      default: undefined\n    }\n  },\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots;\n    var menuContext = useInjectMenu();\n\n    var newContext = _extends({}, menuContext); // 确保传入的属性不会动态增删\n    // 不需要 watch 变化\n\n\n    if (props.mode !== undefined) {\n      newContext.mode = toRef(props, 'mode');\n    }\n\n    if (props.isRootMenu !== undefined) {\n      newContext.isRootMenu = toRef(props, 'isRootMenu');\n    }\n\n    if (props.overflowDisabled !== undefined) {\n      newContext.overflowDisabled = toRef(props, 'overflowDisabled');\n    }\n\n    useProvideMenu(newContext);\n    return function () {\n      var _a;\n\n      return (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots);\n    };\n  }\n});\nexport { useProvideMenu, MenuContextKey, useInjectMenu, MenuFirstLevelContextKey, useProvideFirstLevel, useInjectFirstLevel, MenuContextProvider };\nexport default useProvideMenu;"],"mappings":"AAAA,OAAOA,QAAQ,MAAM,oCAAoC;AACzD,SAASC,eAAe,EAAEC,MAAM,EAAEC,OAAO,EAAEC,KAAK,QAAQ,KAAK;AAC7D,IAAIC,cAAc,GAAGC,MAAM,CAAC,gBAAgB,CAAC;AAE7C,IAAIC,cAAc,GAAG,SAASA,cAAcA,CAACC,KAAK,EAAE;EAClDL,OAAO,CAACE,cAAc,EAAEG,KAAK,CAAC;AAChC,CAAC;AAED,IAAIC,aAAa,GAAG,SAASA,aAAaA,CAAA,EAAG;EAC3C,OAAOP,MAAM,CAACG,cAAc,CAAC;AAC/B,CAAC;AAED,IAAIK,wBAAwB,GAAGJ,MAAM,CAAC,0BAA0B,CAAC;AAEjE,IAAIK,oBAAoB,GAAG,SAASA,oBAAoBA,CAACC,UAAU,EAAE;EACnET,OAAO,CAACO,wBAAwB,EAAEE,UAAU,CAAC;AAC/C,CAAC;AAED,IAAIC,mBAAmB,GAAG,SAASA,mBAAmBA,CAAA,EAAG;EACvD,OAAOX,MAAM,CAACQ,wBAAwB,EAAE,IAAI,CAAC;AAC/C,CAAC;AAED,IAAII,mBAAmB,GAAGb,eAAe,CAAC;EACxCc,IAAI,EAAE,qBAAqB;EAC3BC,YAAY,EAAE,KAAK;EACnBR,KAAK,EAAE;IACLS,IAAI,EAAE;MACJC,IAAI,EAAEC,MAAM;MACZC,OAAO,EAAEC;IACX,CAAC;IACDC,gBAAgB,EAAE;MAChBJ,IAAI,EAAEK,OAAO;MACbH,OAAO,EAAEC;IACX,CAAC;IACDG,UAAU,EAAE;MACVN,IAAI,EAAEK,OAAO;MACbH,OAAO,EAAEC;IACX;EACF,CAAC;EACDI,KAAK,EAAE,SAASA,KAAKA,CAACjB,KAAK,EAAEkB,IAAI,EAAE;IACjC,IAAIC,KAAK,GAAGD,IAAI,CAACC,KAAK;IACtB,IAAIC,WAAW,GAAGnB,aAAa,CAAC,CAAC;IAEjC,IAAIoB,UAAU,GAAG7B,QAAQ,CAAC,CAAC,CAAC,EAAE4B,WAAW,CAAC,CAAC,CAAC;IAC5C;;IAGA,IAAIpB,KAAK,CAACS,IAAI,KAAKI,SAAS,EAAE;MAC5BQ,UAAU,CAACZ,IAAI,GAAGb,KAAK,CAACI,KAAK,EAAE,MAAM,CAAC;IACxC;IAEA,IAAIA,KAAK,CAACgB,UAAU,KAAKH,SAAS,EAAE;MAClCQ,UAAU,CAACL,UAAU,GAAGpB,KAAK,CAACI,KAAK,EAAE,YAAY,CAAC;IACpD;IAEA,IAAIA,KAAK,CAACc,gBAAgB,KAAKD,SAAS,EAAE;MACxCQ,UAAU,CAACP,gBAAgB,GAAGlB,KAAK,CAACI,KAAK,EAAE,kBAAkB,CAAC;IAChE;IAEAD,cAAc,CAACsB,UAAU,CAAC;IAC1B,OAAO,YAAY;MACjB,IAAIC,EAAE;MAEN,OAAO,CAACA,EAAE,GAAGH,KAAK,CAACP,OAAO,MAAM,IAAI,IAAIU,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACC,IAAI,CAACJ,KAAK,CAAC;IACjF,CAAC;EACH;AACF,CAAC,CAAC;AACF,SAASpB,cAAc,EAAEF,cAAc,EAAEI,aAAa,EAAEC,wBAAwB,EAAEC,oBAAoB,EAAEE,mBAAmB,EAAEC,mBAAmB;AAChJ,eAAeP,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}